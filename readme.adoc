# Multi-Agent Oriented Programming Tutorial
:toc: right
:author: 23rd European Agent Systems Summer School
:date: July 2023
:source-highlighter: coderay
:coderay-linenums-mode: inline
:icons: font
:prewrap!:

This guide contains practical material for the tutorial _Multi-Agent Oriented Programming_ at https://easss23.fit.cvut.cz[23rd European Agent Systems Summer] School, 2023, Prague.


== Smart Room Scenario

The objective is to develop an MAOP-system to control the temperature of a room so that it reaches some desired temperature

* The room is equipped with a "Heating, Ventilating and Air  Conditioning" (HVAC), that provides

** the current room temperature
** operations to start cooling, start heating, and stop the machine

* initially we have one agent that has the goal of maintaining a certain temperature

image:doc/figs/smart-room1.png[]


== Agent Dimension (Lab 1)

=== Task 1: run the the initial project for the smart room scenario

The simplest way to run the examples and do the exercises is by using https://gitpod.io/#https://github.com/JaCaMo-EASSS23/code[GitPod, following this link] (a github account is required).

To run the initial project, type the commands below in the terminal:
----
cd lab1/smart-room-sa
./gradlew
----

=== Task 2: Reading and understanding agent programs

- change the preferred temperature

- [add wait to avoid busy waiting; what are the problem, could the wait of 10 minutes? how to solve? point to doc of wait and wait for an event]

- [add a plan to print the state of the HVAC]
  [if "off" print "turned of", if "on" print "turned on"]
  [enforce unification instead of if]

- [another implementation with !temperature(XX) goal that works; then add two goals; [give the code for that]; exercise is to understand the code, the agent behaviour and explain the problem]

=== Task 3: Improve the implementation

- [create a plan to stop and use jason cli to trigger it -- difficult without REPL]


== Agent (Communication) Dimension (Lab 2)

----
cd lab2/smart-room-ma
./gradlew
----

- example of askOne sync and async

- [give some with signal, ask to change to tell and notice the difference]

- [case of many source and belief removal]

- [case of source of sources]

- [increment id]

- [use DF to find participants]

- [implement timeout]


- [initial impl is not the voting, it is a consensus based on average. add call for candidates step, then options in open voting, pa choose, rc select the most voted]


== Environment Dimension (Lab 3)

=== Task 1: Implement a usage interface for the voting machine
- [define observable property `status` (with values `open`/`closed`) in the artifact's `init` method]
- [implement operations for: `open`, `vote`, and `close`]

=== Task 2: Instantiate and use a voting machine
- [complete plan(s) for creating, starting, and stopping the voting machine]
- [complete plan(s) for focusing on the voting machine and bidding]

=== Task 3: Implement automatic closing with a countdown
- [implement an internal operation for closing the voting machine with a countdown]

== Organisation Dimension (Lab 4)

